!(function(){function scaleCanvas(){scale=window.devicePixelRatio||1,canvas.width=window.innerWidth*scale,canvas.height=window.innerHeight*scale,context.scale(scale,scale)}function removeAnimation(anim){let index=animations.indexOf(anim);index>-1&&animations.splice(index,1)}function createFirework(x,y){scaleCanvas();let particles=createParticles(x,y),ring=createRing(x,y),particleAnim=anime({targets:particles,x:n=>n.x+anime.random(-200,200),y:n=>n.y+anime.random(-200,200),radius:0,duration:()=>anime.random(1200,1800),easing:"easeOutExpo",complete:removeAnimation}),ringAnim=anime({targets:ring,radius:()=>anime.random(8.75*getScale(),11.25*getScale()),lineWidth:0,alpha:{value:0,easing:"linear",duration:()=>anime.random(400,600)},duration:()=>anime.random(1200,1800),easing:"easeOutExpo",complete:removeAnimation});animations.push(particleAnim,ringAnim)}function createParticles(x,y){let particles=[];for(let i=0;i<24;i++){let p={x:x,y:y,color:colors[anime.random(0,colors.length-1)],radius:anime.random(getScale(),2*getScale()),draw(){context.beginPath(),context.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),context.fillStyle=this.color,context.fill()}};particles.push(p)}return particles}function createRing(x,y){return{x:x,y:y,color:"#FFF",radius:0,alpha:1,lineWidth:6,draw(){context.globalAlpha=this.alpha,context.beginPath(),context.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),context.lineWidth=this.lineWidth,context.strokeStyle=this.color,context.stroke(),context.globalAlpha=1}}}function getScale(){return parseFloat(getComputedStyle(document.documentElement).fontSize)}let canvas=document.getElementById("fireworks"),context=canvas.getContext("2d"),animations=[],colors=["#FFC1CC","#BFEFFF","#D1FFBF","#FFF9C1"];anime({duration:1/0,update(){context.clearRect(0,0,canvas.width,canvas.height),animations.forEach(a=>a.animatables.forEach(anim=>anim.target.draw()))}}),document.addEventListener("mousedown",e=>{createFirework(e.clientX,e.clientY)},!1),window.addEventListener("resize",scaleCanvas,!1)})();
